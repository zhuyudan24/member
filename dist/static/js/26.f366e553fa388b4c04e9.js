webpackJsonp([26],{"3kT8":function(e,t){},KBNo:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Dd8w"),r=a.n(s),o=a("WSiR"),i=a("AKaA"),n=a("NTL1"),l=a("8V46"),m=a("5kwn"),d=a("oAV5"),c=a("UXnk"),p={name:"posmemberDetail",data:function(){var e=this;return{showClique:!1,memberId:this.$route.query.memberId||"",navpath:[{name:"首页",path:""},{name:"POS会员",path:"/posmembers"},{name:"会员详情",path:""}],memberInfo:{costFee:0,costTimes:0,lastCostTime:"",avgCost:0,relatedPercent:0,avgGoodsCost:0,highCost:0,costCategoryCount:0,avgDiscount:0,highCostPaid:0,costFeePaid:0},orderType:-1,evaluateStatus:-1,searchInfo:"",page:{currentPage:1,pageSize:20,totalCount:0},memberData:[],dialogOrderVisible:!1,orderData:[],orderInfo:"",payInfo:[],posMemberInfo:{cardNum:"",gradeId:"",gradeName:"",limitTime:"",storeName:"",cardGivingTime:"",memberName:"",memberGender:"",memberBirthday:"",birthType:"",birthTypeStr:"",phoneNumber:"",unsubscribe:"",cliqueCardNo:"",cliqueGradeName:"",cliqueMemberIntegral:""},dialogGradeVisible:!1,gradeForm:{gradeId:"",remark:""},graderules:{gradeId:[{required:!0,message:"请选择等级",trigger:"change"}],remark:[{required:!0,message:"请输入原因备注",trigger:"change"}]},memberGrade:[],dialogEidtVisible:!1,updateStatus:null,updateTitle:"",posForm:{memberName:"",memberGender:"",memberBirthday:"",birthType:"",phoneNumber:"",nationCode:"",remark:""},nationCodeList:[],posRules:{memberName:[{required:!0,message:"请输入姓名",trigger:"blur"}],memberGender:[{required:!0,message:"请输入性别",trigger:"blur"}],memberBirthday:[{required:!0,message:"请输入出生日期",trigger:"change"}],phoneNumber:[{required:!0,validator:function(t,a,s){""===a?s(new Error("请输入号码")):(e.posForm.nationCode||(e.posForm.nationCode="86",/^0?1[3|4|5|6|7|8|9][0-9]\d{8}$/.test(a)||s(new Error("请输入正确号码"))),e.posForm.nationCode&&("86"==e.posForm.nationCode?/^0?1[3|4|5|6|7|8|9][0-9]\d{8}$/.test(a)||s(new Error("请输入正确号码")):/^(\d{1,11})$/.test(a)||s(new Error("请输入正确号码"))),s())},trigger:"blur"}],remark:[{required:!0,message:"请输入原因备注",trigger:"blur"}]}}},filters:{defaultImg:function(e){if(!e)return"./static/img/default.png"},formatColorSize:function(e){var t="";e?t=JSON.parse(e).map(function(e){return e.key+": "+e.value})[0]:t="--";return t},formatGender:function(e){var t="";return e&&(t=0==e?"未知":1==e?"男":2==e?"女":""),t}},methods:{getEnterpriseInfo:function(){var e=this;Object(i.b)(n.a.enterpriseInfo).then(function(t){0===t.data.errorCode&&(e.showClique=t.data.result.enterpriseInfo.showClique,console.log(e.showClique))})},submitGrade:function(e){var t=this;this.$refs[e].validate(function(a){if(!a)return!1;Object(i.a)(n.a.memberGrade,{memberId:t.memberId,remark:t.gradeForm.remark,gradeId:t.gradeForm.gradeId}).then(function(a){return t.$refs[e].resetFields(),0===a.data.errorCode?(Object(l.c)("提交成功，结果处理中..."),!0):(Object(l.a)(a.data.message),!1)}).then(function(e){t.dialogGradeVisible=!1,e&&setTimeout(function(){t.getPosInfo()},2e3)}).catch(function(a){Object(l.b)(a),t.dialogGradeVisible=!1,t.$refs[e].resetFields()})})},getGradeList:function(){var e=this;Object(i.a)(n.a.gradeList).then(function(t){if(0!==t.data.errorCode)return Object(l.a)(t.data.message),!1;e.memberGrade=t.data.result}).catch(function(e){Object(l.b)(e)})},cancleGrade:function(){this.$refs.gradeForm.resetFields()},handlerGrade:function(){this.getGradeList(),this.gradeForm.gradeId=this.posMemberInfo.gradeId,this.dialogGradeVisible=!0},getcodeList:function(){var e=this;Object(i.a)(n.a.codeList).then(function(t){0===t.data.errorCode?e.nationCodeList=t.data.result.nationCodeList:Object(l.a)(t.data.message)}).catch(function(e){Object(l.b)(e)})},closePos:function(e){this.$refs[e]&&this.$refs[e].resetFields()},submitPosBaseDetail:function(e){var t=this,a="";if(1==this.updateStatus){if(!this.posForm.memberName)return Object(l.a)("会员名称不能为空"),!1;a={memberId:this.memberId,updateStatus:this.updateStatus,memberName:this.posForm.memberName,remark:this.posForm.remark}}if(2==this.updateStatus){if(!this.posForm.memberGender)return Object(l.a)("请选择性别"),!1;a={memberId:this.memberId,updateStatus:this.updateStatus,memberGender:this.posForm.memberGender,remark:this.posForm.remark}}if(3==this.updateStatus){if(!this.posForm.memberBirthday)return Object(l.a)("请选择出生日期"),!1;a={memberId:this.memberId,updateStatus:this.updateStatus,memberBirthday:Object(m.a)(this.posForm.memberBirthday),birthType:""===this.posForm.birthType?1:this.posForm.birthType,remark:this.posForm.remark}}if(4==this.updateStatus){if(!this.posForm.phoneNumber)return Object(l.a)("请填写手机号"),!1;this.$refs[e].validateField("phoneNumber",function(e){if(e)return Object(l.a)("请填写正确手机号"),!1}),a={memberId:this.memberId,updateStatus:this.updateStatus,phoneNumber:this.posForm.phoneNumber,nationCode:this.posForm.nationCode||"86",remark:this.posForm.remark}}if(!this.posForm.remark)return Object(l.a)("备注不能为空"),!1;Object(i.a)(n.a.posBaseDetail,a).then(function(e){return 0==e.data.errorCode?(Object(l.c)(),!0):(Object(l.a)(e.data.message),!1)}).then(function(a){a&&t.getPosInfo(),t.dialogEidtVisible=!1,t.$refs[e]&&t.$refs[e].resetFields()}).catch(function(e){Object(l.b)(e)})},editGrade:function(e){switch(this.updateStatus=e,e){case 1:this.posForm.memberName=this.posMemberInfo.memberName,this.updateTitle="姓名";break;case 2:this.posForm.memberGender=this.posMemberInfo.memberGender,this.updateTitle="性别";break;case 3:this.posForm.memberBirthday=this.posMemberInfo.memberBirthday,this.posForm.birthType=this.posMemberInfo.birthType,this.updateTitle="出生日期";break;case 4:this.getcodeList(),this.posForm.nationCode=this.posMemberInfo.nationCode||"86",this.posForm.phoneNumber=this.posMemberInfo.phoneNumber,this.updateTitle="手机号码"}this.dialogEidtVisible=!0},getOrderDetail:function(e){var t=this;this.orderData=[],this.orderInfo="",this.payInfo=[],Object(i.a)(n.a.orderDetail,{memberId:this.memberId,orderId:e}).then(function(e){0===e.data.errorCode?(t.dialogOrderVisible=!0,t.orderInfo=e.data.result.orderInfo,t.orderData=t.orderInfo.list,t.orderInfo.payInfo&&(t.payInfo=JSON.parse(t.orderInfo.payInfo))):Object(l.a)(e.data.message)}).catch(function(e){Object(l.b)(e)})},handleSearch:function(){this.page.currentPage=1,this.getMemberOrderPage()},handleCurrentChange:function(e){this.page.currentPage=e,this.getMemberOrderPage()},handleSizeChange:function(e){this.page.pageSize=e,this.getMemberOrderPage()},getMemberOrderPage:function(){var e=this;Object(i.a)(n.a.memberOrderPage,{memberId:this.memberId,pageSize:this.page.pageSize,currentPage:this.page.currentPage,orderType:this.orderType,evaluateStatus:this.evaluateStatus,searchInfo:this.searchInfo}).then(function(t){0===t.data.errorCode?(e.memberData=t.data.result.page.result&&t.data.result.page.result.map(function(e){return r()({},e,{orderTime:-1!=e.orderTime?Object(d.a)(e.orderTime,1):"--"})}),e.page.currentPage=t.data.result.page.currentPage,e.page.totalCount=t.data.result.page.totalCount):Object(l.a)(t.data.message)}).catch(function(e){Object(l.b)(e)})},getAjaxMembersInfo:function(){var e=this;Object(i.a)(n.a.ajaxMembersInfo,{memberId:this.memberId}).then(function(t){if(0===t.data.errorCode){var a=t.data.result.memberInfo;e.memberInfo={costFee:a.costFee,costTimes:a.costTimes,lastCostTime:a.lastCostTime,avgCost:a.avgCost,relatedPercent:a.relatedPercent,avgGoodsCost:a.avgGoodsCost,highCost:a.highCost,costCategoryCount:a.costCategoryCount,avgDiscount:a.avgDiscount,highCostPaid:a.highCostPaid,costFeePaid:a.costFeePaid}}else Object(l.a)(t.data.message)}).catch(function(e){Object(l.b)(e)})},getPosInfo:function(){var e=this;Object(i.a)(n.a.posInfo,{memberId:this.memberId}).then(function(t){if(0===t.data.errorCode){var a=t.data.result.posMemberInfo;switch(e.posMemberInfo={cardNum:a.cardNum,gradeId:a.gradeId,gradeName:a.gradeName,limitTime:a.limitTime,storeName:a.storeName,cardGivingTime:a.cardGivingTime,memberName:a.memberName,memberGender:a.memberGender,memberBirthday:a.memberBirthday,birthType:a.birthType,phoneNumber:a.phoneNumber,unsubscribe:a.unsubscribe,storedValue:a.storedValue,accumulatPoints:a.accumulatPoints,cliqueCardNo:a.cliqueCardNo,cliqueGradeName:a.cliqueGradeName,cliqueMemberIntegral:a.cliqueMemberIntegral},e.posMemberInfo.birthType){case 1:e.posMemberInfo.birthTypeStr="(阳历)";break;case 0:e.posMemberInfo.birthTypeStr="(农历)";break;default:e.posMemberInfo.birthTypeStr=""}}else Object(l.a)(t.data.message)}).catch(function(e){Object(l.b)(e)})},goback:function(){this.$router.push({path:"posmembers"})}},created:function(){this.memberId&&(this.getAjaxMembersInfo(),this.getMemberOrderPage(),this.getPosInfo(),this.$store.commit("mutations-slide",!1),this.getEnterpriseInfo()),"memberGroup"===this.$route.query.fromPage&&(this.navpath[1].name="会员标签分组")},components:{"v-nav":o.a,searchinput:c.a}},u=r()({},p),v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"min-container"},[a("div",{staticClass:"min100"},[a("v-nav",{class:"nav-bottom",staticStyle:{"border-bottom":"none"},attrs:{navpath:e.navpath}}),e._v(" "),a("div",{staticClass:"record-nav"},[a("div",{staticClass:"record-navitem"},[a("p",{staticClass:"lheigth40"},[e._v("消费总额(实付)")]),e._v(" "),a("p",{staticClass:"meduimtxt"},[e._v("￥"+e._s(e._f("fomatFloat")(e.memberInfo.costFeePaid)))])]),e._v(" "),a("div",{staticClass:"record-navitem"},[a("p",{staticClass:"lheigth40"},[e._v("消费总额(应收)")]),e._v(" "),a("p",{staticClass:"meduimtxt"},[e._v(e._s(e._f("fomatFloat")(e.memberInfo.costFee)))])]),e._v(" "),a("div",{staticClass:"record-navitem"},[a("p",{staticClass:"lheigth40"},[e._v("消费次数")]),e._v(" "),a("p",{staticClass:"meduimtxt"},[e._v(e._s(e.memberInfo.costTimes))])]),e._v(" "),a("div",{staticClass:"record-navitem"},[a("p",{staticClass:"lheigth40"},[e._v("最近消费")]),e._v(" "),a("p",{staticClass:"meduimtxt"},[e._v(e._s(e._f("formatYMD")(e.memberInfo.lastCostTime)))])]),e._v(" "),a("div",{staticClass:"record-navitem"},[a("p",{staticClass:"lheigth40"},[e._v("客单价")]),e._v(" "),a("p",{staticClass:"meduimtxt"},[e._v("￥"+e._s(e._f("fomatFloat")(e.memberInfo.avgCost)))])]),e._v(" "),a("div",{staticClass:"record-navitem"},[a("p",{staticClass:"lheigth40"},[e._v("连带率")]),e._v(" "),a("p",{staticClass:"meduimtxt"},[e._v(e._s(e._f("fomatFloat")(e.memberInfo.relatedPercent)))])]),e._v(" "),a("div",{staticClass:"record-navitem"},[a("p",{staticClass:"lheigth40"},[e._v("件单价")]),e._v(" "),a("p",{staticClass:"meduimtxt"},[e._v("￥"+e._s(e._f("fomatFloat")(e.memberInfo.avgGoodsCost)))])]),e._v(" "),a("div",{staticClass:"record-navitem"},[a("p",{staticClass:"lheigth40"},[e._v("最高单笔(实付)")]),e._v(" "),a("p",{staticClass:"meduimtxt"},[e._v(e._s(e._f("fomatFloat")(e.memberInfo.highCostPaid)))])]),e._v(" "),a("div",{staticClass:"record-navitem"},[a("p",{staticClass:"lheigth40"},[e._v("最高单笔(应收)")]),e._v(" "),a("p",{staticClass:"meduimtxt"},[e._v(e._s(e._f("fomatFloat")(e.memberInfo.highCost)))])]),e._v(" "),a("div",{staticClass:"record-navitem"},[a("p",{staticClass:"lheigth40"},[e._v("消费品类")]),e._v(" "),a("p",{staticClass:"meduimtxt"},[e._v(e._s(e.memberInfo.costCategoryCount))])]),e._v(" "),a("div",{staticClass:"record-navitem"},[a("p",{staticClass:"lheigth40"},[e._v("平均折扣")]),e._v(" "),a("p",{staticClass:"meduimtxt"},[e._v(e._s(e._f("fomatFloat")(e.memberInfo.avgDiscount)))])])]),e._v(" "),a("div",{staticClass:"record"},[a("div",{staticClass:"pos"},[a("div",{staticClass:"pos-title"},[e._v("会员卡信息")]),e._v(" "),a("div",{staticClass:"pos-content"},[a("div",{staticClass:"pos-flex"},[a("div",{staticClass:"pos-leftcontent"},[a("div",{staticClass:"pos-item"},[a("span",{staticClass:"pos-leftitem"},[e._v("商户会员卡号 "),a("span",{staticClass:"pos-color"},[e._v(" "+e._s(e.posMemberInfo.cardNum)+" ")])])]),e._v(" "),a("div",{staticClass:"pos-item"},[a("span",{staticClass:"pos-leftitem"},[e._v("商户会员等级 "),a("span",{staticClass:"pos-color"},[e._v("  "+e._s(e.posMemberInfo.gradeName)+"\n              "),a("i",{staticClass:"el-icon-edit pointer",on:{click:e.handlerGrade}})])])]),e._v(" "),a("div",{staticClass:"pos-item"},[a("span",{staticClass:"pos-leftitem"},[e._v("到期时间 "),a("span",{staticClass:"pos-color"},[e._v(" "+e._s(e._f("formatTime")(e.posMemberInfo.limitTime))+" ")])])]),e._v(" "),a("div",{staticClass:"pos-item"},[a("span",{staticClass:"pos-leftitem"},[e._v("开卡门店"),a("span",{staticClass:"pos-color"},[e._v(" "+e._s(e.posMemberInfo.storeName)+" ")])])]),e._v(" "),a("div",{staticClass:"pos-item"},[a("span",{staticClass:"pos-leftitem"},[e._v("开卡时间 "),a("span",{staticClass:"pos-color"},[e._v(" "+e._s(e._f("formatTime")(e.posMemberInfo.cardGivingTime))+" ")])])]),e._v(" "),a("div",{staticClass:"pos-item"},[a("span",{staticClass:"pos-leftitem"},[e._v("姓名 "),a("span",{staticClass:"pos-color"},[e._v(" "+e._s(e.posMemberInfo.memberName)+"\n              "),a("i",{staticClass:"el-icon-edit pointer",on:{click:function(t){return e.editGrade(1)}}})])])]),e._v(" "),a("div",{staticClass:"pos-item"},[a("span",{staticClass:"pos-leftitem"},[e._v("性别 "),a("span",{staticClass:"pos-color"},[e._v(" "+e._s(e._f("formatGender")(e.posMemberInfo.memberGender))+"\n              "),a("i",{staticClass:"el-icon-edit pointer",on:{click:function(t){return e.editGrade(2)}}})])])]),e._v(" "),a("div",{staticClass:"pos-item"},[a("span",{staticClass:"pos-leftitem"},[e._v("\n                出生日期 "+e._s(e.posMemberInfo.birthTypeStr)+"\n                "),a("span",{staticClass:"pos-color"},[e._v(" "+e._s(e._f("formatYMD")(e.posMemberInfo.memberBirthday))+"\n                  "),a("i",{staticClass:"el-icon-edit pointer",on:{click:function(t){return e.editGrade(3)}}})])])]),e._v(" "),a("div",{staticClass:"pos-item"},[a("span",{staticClass:"pos-leftitem"},[e._v("手机号码 "),a("span",{staticClass:"pos-color"},[e._v(" "+e._s(e.posMemberInfo.phoneNumber)+"\n              "),a("i",{staticClass:"el-icon-edit pointer",on:{click:function(t){return e.editGrade(4)}}})])])]),e._v(" "),a("div",{staticClass:"pos-item"},[a("span",{staticClass:"pos-leftitem"},[e._v("退订状态 "),a("span",{staticClass:"pos-color"},[e._v(" "+e._s(1==e.posMemberInfo.unsubscribe?"退订":"未退订")+" ")])])]),e._v(" "),e.showClique?a("div",{staticClass:"pos-item"},[a("span",{staticClass:"pos-leftitem"},[e._v("集团会员卡号 "),a("span",{staticClass:"pos-color"},[e._v(" "+e._s(e._f("fomatText")(e.posMemberInfo.cliqueCardNo))+" ")])])]):e._e(),e._v(" "),e.showClique?a("div",{staticClass:"pos-item"},[a("span",{staticClass:"pos-leftitem"},[e._v("集团会员等级 "),a("span",{staticClass:"pos-color"},[e._v(" "+e._s(e._f("fomatText")(e.posMemberInfo.cliqueGradeName))+" ")])])]):e._e(),e._v(" "),e.showClique?a("div",{staticClass:"pos-item"},[a("span",{staticClass:"pos-leftitem"},[e._v("集团会员积分 "),a("span",{staticClass:"pos-color"},[e._v(" "+e._s(e._f("fomatText")(e.posMemberInfo.cliqueMemberIntegral))+" ")])])]):e._e()])]),e._v(" "),a("div",{staticClass:"pos-rightcontent"},[a("div",{staticClass:"pos-num pointer"},[e._v(e._s(e.posMemberInfo.accumulatPoints))]),e._v(" "),a("div",{staticClass:"pos-text pointer"},[a("router-link",{staticClass:"point-recharge",attrs:{to:{path:"/integralDataPage",query:{memberId:e.memberId}}}},[e._v("积分余额")])],1),e._v(" "),a("div",{staticClass:"mTop10 pos-num"},[e._v(e._s(e.posMemberInfo.storedValue))]),e._v(" "),a("div",{staticClass:"pos-text"},[e._v("储值余额")])])])]),e._v(" "),a("div",[a("div",{staticClass:"paddmo"},[a("div",{staticClass:"table-content"},[a("el-table",{ref:"multipleTable",attrs:{data:e.memberData,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"putOnTime",label:"操作时间",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                  "+e._s(t.row.orderTime)+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"orderNumber",label:"单据流水号",width:"160px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"storeName",label:"消费门店"}}),e._v(" "),a("el-table-column",{attrs:{prop:"clerkImageUrl",label:"导购信息",width:"260px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"record-clerk"},[a("span",{staticClass:"record-clerkimg"},[a("img",{staticStyle:{"vertical-align":"middle"},attrs:{width:"60",height:"60",src:e._f("defaultImg")(t.row.clerkImageUrl),alt:""}})]),e._v(" "),a("span",{staticClass:"record-clerkname"},[e._v(e._s(t.row.clerkName)),a("br"),e._v(e._s(t.row.clerkCode))])])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"orderStatus",label:"订单类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.orderStatus?a("span",[e._v("销售")]):e._e(),e._v(" "),2==t.row.orderStatus?a("span",[e._v("退货")]):e._e(),e._v(" "),4==t.row.orderStatus?a("span",[e._v("退换货")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"paidAmount",label:"成交金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"evaluateStatus",label:"评价状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.evaluateStatus?a("span",[e._v("未评价")]):e._e(),e._v(" "),1==t.row.evaluateStatus?a("span",[e._v("好评")]):e._e(),e._v(" "),2==t.row.evaluateStatus?a("span",[e._v("不良评价")]):e._e(),e._v(" "),3==t.row.evaluateStatus?a("span",[e._v("未评价-已过期")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"operate"},[a("span",{staticClass:"pointer",on:{click:function(a){return e.getOrderDetail(t.row.orderId)}}},[e._v("查看详情")])])]}}])})],1),e._v(" "),e.page.totalCount>0?a("div",{staticClass:"page mTop20"},[a("el-pagination",{attrs:{background:"","current-page":e.page.currentPage,"page-sizes":[20,40,60,80],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next",total:e.page.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()],1)])])])],1),e._v(" "),a("el-dialog",{attrs:{title:"订单详情",visible:e.dialogOrderVisible,width:"600px"},on:{"update:visible":function(t){e.dialogOrderVisible=t}}},[a("div",{staticClass:"record-dialog",staticStyle:{width:"560px"}},[a("div",{staticClass:"table-content"},[a("el-table",{ref:"orderTable",attrs:{data:e.orderData,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"productName",label:"商品信息",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"record-info"},[a("div",{staticClass:"record-infoimg"},[a("img",{attrs:{width:"60",height:"60",src:"/static/img/default.png",alt:""}})]),e._v(" "),a("div",{staticClass:"record-infocontent"},[a("div",[e._v(e._s(t.row.productName))]),e._v(" "),a("div",[e._v(e._s(t.row.productCode))]),e._v(" "),a("div",[e._v(e._s(e._f("formatColorSize")(t.row.attrColorSize)))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"数量",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"payPrice",label:"成交价"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(t.row.unitPrice))]),e._v(" "),a("p",[e._v(e._s(t.row.payPrice))])]}}])})],1),e._v(" "),a("div",{staticClass:"record-border"},[a("div",{staticClass:"record-countwrap"},[a("p",[a("span",{staticClass:"record-count"},[e._v("商品总价")]),a("span",{staticClass:"record-countvalue"},[e._v(e._s(e.orderInfo.totalAmount))])]),e._v(" "),a("p",[a("span",{staticClass:"record-count"},[e._v("优惠活动")]),a("span",{staticClass:"record-countvalue"},[e._v(e._s(e.orderInfo.promotionAmount))])]),e._v(" "),a("p",[a("span",{staticClass:"record-count"},[e._v("应付金额")]),a("span",{staticClass:"record-countvalue"},[e._v(e._s(e.orderInfo.paidAmount))])])])]),e._v(" "),a("div",{staticClass:"record-border"},[a("div",{staticClass:"record-countwrap"},e._l(e.payInfo,function(t,s){return a("p",{key:s},[a("span",{staticClass:"record-count"},[e._v(e._s(t.name))]),a("span",{staticClass:"record-countvalue"},[e._v(e._s(t.value))])])}),0)]),e._v(" "),a("div",{staticClass:"record-border"},[a("div",{staticClass:"record-countwrap"},[a("p",[a("span",{staticClass:"record-count"},[e._v("订单总额")]),a("span",{staticClass:"record-countvalue"},[e._v(e._s(e.orderInfo.paidAmount))])])])])],1)]),e._v(" "),a("div",{staticClass:"dialog-footer talign",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogOrderVisible=!1}}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"调整POS会员"+e.updateTitle,visible:e.dialogEidtVisible,width:"500px"},on:{"update:visible":function(t){e.dialogEidtVisible=t},close:function(t){return e.closePos("posForm")}}},[a("el-form",{ref:"posForm",attrs:{model:e.posForm,"label-width":"100px",rules:e.posRules}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1==e.updateStatus,expression:"updateStatus == 1"}],attrs:{label:"姓名",prop:"memberName"}},[a("el-input",{model:{value:e.posForm.memberName,callback:function(t){e.$set(e.posForm,"memberName",t)},expression:"posForm.memberName"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.updateStatus,expression:"updateStatus == 2"}],attrs:{label:"性别",prop:"memberGender"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.posForm.memberGender,callback:function(t){e.$set(e.posForm,"memberGender",t)},expression:"posForm.memberGender"}},[a("el-option",{key:1,attrs:{value:1,label:"男"}}),e._v(" "),a("el-option",{key:2,attrs:{value:2,label:"女"}})],1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:3==e.updateStatus,expression:"updateStatus == 3"}],attrs:{label:"出生日期",prop:"memberBirthday"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"阳历"},model:{value:e.posForm.birthType,callback:function(t){e.$set(e.posForm,"birthType",t)},expression:"posForm.birthType"}},[a("el-option",{key:"农历",attrs:{value:0,label:"农历"}}),e._v(" "),a("el-option",{key:"阳历",attrs:{value:1,label:"阳历"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:1}},[e._v(" ")]),e._v(" "),a("el-col",{attrs:{span:17}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{clearable:!1,"value-format":"timestamp",type:"date",placeholder:"出生日期"},model:{value:e.posForm.memberBirthday,callback:function(t){e.$set(e.posForm,"memberBirthday",t)},expression:"posForm.memberBirthday"}})],1)],1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:4==e.updateStatus,expression:"updateStatus == 4"}],ref:"phoneNumber",attrs:{label:"手机号码",prop:"phoneNumber"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("span",[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.posForm.nationCode,callback:function(t){e.$set(e.posForm,"nationCode",t)},expression:"posForm.nationCode "}},[a("el-option",{key:"86",attrs:{value:"86",label:"86"}}),e._v(" "),e._l(e.nationCodeList,function(e){return a("el-option",{key:e.dictCode,attrs:{value:e.dictCode,label:e.dictName}})})],2)],1)]),e._v(" "),a("el-col",{attrs:{span:1}},[e._v(" ")]),e._v(" "),a("el-col",{attrs:{span:17}},[a("span",[a("el-input",{model:{value:e.posForm.phoneNumber,callback:function(t){e.$set(e.posForm,"phoneNumber",t)},expression:"posForm.phoneNumber"}})],1)])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"原因备注",prop:"remark"}},[a("gic-textarea",{attrs:{max:100},model:{value:e.posForm.remark,callback:function(t){e.$set(e.posForm,"remark",t)},expression:"posForm.remark"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogEidtVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitPosBaseDetail("posForm")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"会员等级修改",visible:e.dialogGradeVisible,width:"600px"},on:{"update:visible":function(t){e.dialogGradeVisible=t},close:e.cancleGrade}},[a("el-form",{ref:"gradeForm",attrs:{model:e.gradeForm,rules:e.graderules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"调整后等级",prop:"gradeId"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.gradeForm.gradeId,callback:function(t){e.$set(e.gradeForm,"gradeId",t)},expression:"gradeForm.gradeId"}},e._l(e.memberGrade,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"原因备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.gradeForm.remark,callback:function(t){e.$set(e.gradeForm,"remark",t)},expression:"gradeForm.remark"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogGradeVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitGrade("gradeForm")}}},[e._v("确 定")])],1)],1),e._v(" "),a("div",{staticClass:"foot-add"},[a("vue-gic-footer")],1)],1)},staticRenderFns:[]};var b=a("VU/8")(u,v,!1,function(e){a("3kT8")},null,null);t.default=b.exports}});